zabbix_export:
  version: '6.2'
  date: '2025-05-15T12:18:00Z'
  template_groups:
    -
      uuid: 36bff6c29af64692839d077febfc7079
      name: 'Templates/Network devices'
  templates:
    -
      uuid: 82508e7dce224e4d9ef29fe5f3bec354
      template: 'ZYXEL ES2024A SNMP'
      name: 'ZYXEL ES2024A SNMP'
      description: |
        ZYXEL-ES2024A
        
        MIBs used:
        ZYXEL-ES2024A-MIB
        RFC1213-MIB
        HOST-RESOURCES-MIB
         ZYXEL-ES3500-8PD-MIB
        IF-MIB
        ZYXEL-ES3500-8PD-MIB
        
        Known Issues:
        
          Description: Incorrect handling of SNMP bulk requests. Disable the use of bulk requests in the SNMP interface settings.
          Version: all versions firmware
          Device: ZYXEL ES3500-8PD
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/422668-discussion-thread-for-official-zabbix-templates-for-zyxel
        
        Template tooling version used: 0.42
      groups:
        -
          name: 'Templates/Network devices'
      items:
        -
          uuid: 7ecadc9ed50c4d32af1b8cfdfa8d98f4
          name: 'ZYXEL {$MODEL}: defaultMgmtIpType'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.890.1.5.8.16.11.2.1.0
          key: defaultMgmtIpType
          delay: 1d
          history: 7d
          trends: '0'
          description: 'MIB: ZYXEL-ES2024A-MIB'
          valuemap:
            name: 'ZYXEL-ES2024A-MIB::defaultMgmtIpType'
          tags:
            -
              tag: component
              value: access
          triggers:
            -
              uuid: 881e578741ba4bca9d2450dc93388f16
              expression: 'last(/ZYXEL ES2024A SNMP/defaultMgmtIpType)=0'
              name: 'Set static ip for Managment Hardware'
              url: 'http://{HOST.IP}'
              priority: INFO
              description: 'Change default password and don''t forget after change password write new password for zabbix Config on host'
              manual_close: 'YES'
        -
          uuid: 716de71626ba4476b56e3fd1d4260595
          name: 'ZYXEL {$MODEL}: Contact'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.1.4.0
          key: zyxel.ES2024A.contact
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: RFC1213-MIB
            The textual identification of the contact person
            for this managed node, together with information
            on how to contact this person.
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: component
              value: inventory
        -
          uuid: b5b642243e114dd79e7ae2f504ba31c7
          name: 'ZYXEL {$MODEL}: Uptime (hardware)'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.25.1.1.0
          key: zyxel.ES2024A.hw.uptime
          delay: 30s
          history: 2w
          trends: '0'
          units: uptime
          description: |
            MIB: HOST-RESOURCES-MIB
            The amount of time since this host was last initialized.
            Note that this is different from sysUpTime in the SNMPv2-MIB
            [RFC1907] because sysUpTime is the uptime of the
            network management portion of the system.
          preprocessing:
            -
              type: CHECK_NOT_SUPPORTED
              parameters:
                - ''
              error_handler: CUSTOM_VALUE
              error_handler_params: '0'
            -
              type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            -
              tag: component
              value: system
        -
          uuid: a08f805b07024626bb5eb02876bdd51a
          name: 'ZYXEL {$MODEL}: Location'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.1.6.0
          key: zyxel.ES2024A.location
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: RFC1213-MIB
            The physical location of this node (e.g.,
            `telephone closet, 3rd floor').
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: component
              value: inventory
        -
          uuid: b51c895385ad4fe69dde7e8f87c39b66
          name: 'ZYXEL {$MODEL}: MAC address'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.2.2.1.6.1
          key: zyxel.ES2024A.mac
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: IF-MIB
            The interface's address at the protocol layer
            immediately `below' the network layer in the
            protocol stack.  For interfaces which do not have
            such an address (e.g., a serial line), this object
            should contain an octet string of zero length.
          inventory_link: MACADDRESS_A
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: component
              value: inventory
        -
          uuid: 287e6da2cc9b4eecae2d0eaa840d2f5b
          name: 'ZYXEL {$MODEL}: Hardware model name'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.1.1.0
          key: zyxel.ES2024A.model
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: RFC1213-MIB
            A textual description of the entity.  This value
            should include the full name and version
            identification of the system's hardware type,
            software operating-system, and networking
            software.  It is mandatory that this only contain
            printable ASCII characters.
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: component
              value: inventory
          triggers:
            -
              uuid: a92add0a966f49cbb862d4e847ac8da2
              expression: 'last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.model)<>"ES-2024A"'
              name: 'ZYXEL {$MODEL}: Template does not match hardware'
              priority: INFO
              description: 'This template is for Zyxel ES-2024A, but connected to {ITEM.VALUE}'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: 3fc74e82f9f648da8a6593e3ae71ca17
          name: 'ZYXEL {$MODEL}: Host name'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.1.5.0
          key: zyxel.ES2024A.name
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: RFC1213-MIB
            An administratively-assigned name for this
            managed node.  By convention, this is the node's
            fully-qualified domain name.
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: component
              value: inventory
        -
          uuid: 2a6ceaf8b0e540bba0ce4900184494ba
          name: 'ZYXEL {$MODEL}: Uptime (network)'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.1.3.0
          key: zyxel.ES2024A.net.uptime
          delay: 30s
          history: 2w
          trends: '0'
          units: uptime
          description: |
            MIB: RFC1213-MIB
            The time (in hundredths of a second) since the
            network management portion of the system was last
            re-initialized.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            -
              tag: component
              value: system
        -
          uuid: 73f4abf97f3440a89d740297b0afd0de
          name: 'ZYXEL {$MODEL}: Serial'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.890.1.5.8.16.1.10.0
          key: zyxel.ES2024A.serial
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: ZYXEL-ES2024A-MIB
            Serial number
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: component
              value: inventory
        -
          uuid: 31bfce670d044335b3e12913de333b65
          name: 'ZYXEL {$MODEL}: ZyNOS F/W Version'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMP.ARRAY},.1.3.6.1.4.1.890.1.5.8.16.1]'
          key: zyxel.ES2024A.version
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'MIB: ZYXEL-ES2024A-MIB'
          inventory_link: SOFTWARE_FULL
          preprocessing:
            -
              type: JAVASCRIPT
              parameters:
                - |
                  var inArray = JSON.parse(value);
                  var tmpObj = {};
                  inArray.forEach(function(item, i, arr) {
                    tmpObj[item["{#SNMPINDEX}"]] = item["{#SNMP.ARRAY}"]
                  });
                  var strOut = 'V' + tmpObj["1.0"] + '.' + tmpObj["2.0"]
                    + '(' + tmpObj["3.0"] + '.' + tmpObj["4.0"] + ')_'
                    + tmpObj["7.0"] + '.' + tmpObj["6.0"] + '.' + tmpObj["5.0"];
                  return strOut;
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            -
              tag: component
              value: inventory
          triggers:
            -
              uuid: e74e9650dd0244f6ad960b07464cb961
              expression: 'last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.version,#1)<>last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.version,#2) and length(last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.version))>0'
              name: 'ZYXEL {$MODEL}: Firmware has changed'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: INFO
              description: 'Firmware version has changed. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: 0a658fcdb7b44f54a2197a3dc45f2b5d
          name: 'ZYXEL {$MODEL}: snmpGetCommunity'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.890.1.5.8.16.7.1.0
          key: Zyxel.snmpGetCommunity
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          triggers:
            -
              uuid: ef3deca8ee3b498693ffa1f45930885b
              expression: 'last(/ZYXEL ES2024A SNMP/Zyxel.snmpGetCommunity)="public"'
              name: 'Change default password for snmpGet'
              url: 'http://{HOST.IP}'
              priority: INFO
              description: 'Change default password and don''t forget after change password write new password for zabbix Config on host'
              manual_close: 'YES'
        -
          uuid: 9360d1775b1744a4aac21ac49ca0723e
          name: 'ZYXEL {$MODEL}: snmpSetCommunity'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.890.1.5.8.16.7.2.0
          key: Zyxel.snmpSetCommunity
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          triggers:
            -
              uuid: e28f152394b54a7b9258810f2a98d4dd
              expression: |
                last(/ZYXEL ES2024A SNMP/Zyxel.snmpSetCommunity)="public" or 
                 last(/ZYXEL ES2024A SNMP/Zyxel.snmpSetCommunity)="private"
              name: 'Change default password for snmpSet'
              url: 'http://{HOST.IP}'
              priority: INFO
              description: 'Change default password and don''t forget after change password write new password for zabbix Config on host'
              manual_close: 'YES'
        -
          uuid: e11ba8aa53d04f1daa181d29df465412
          name: 'ZYXEL {$MODEL}: snmpTrapCommunity'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.890.1.5.8.16.7.3.0
          key: Zyxel.snmpTrapCommunity
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          triggers:
            -
              uuid: f92ff22694044f868d461b5744c205f2
              expression: 'last(/ZYXEL ES2024A SNMP/Zyxel.snmpTrapCommunity)="public"'
              name: 'Change default password for snmpTrap'
              url: 'http://{HOST.IP}'
              priority: INFO
              description: 'Change default password and don''t forget after change password write new password for zabbix Config on host'
              manual_close: 'YES'
      discovery_rules:
        -
          uuid: ec19971356174d38bb951bd724064261
          name: 'Network interfaces discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#IFOPERSTATUS},1.3.6.1.2.1.2.2.1.8,{#IFADMINSTATUS},1.3.6.1.2.1.2.2.1.7,{#IFALIAS},1.3.6.1.2.1.31.1.1.1.18,{#IFNAME},1.3.6.1.2.1.31.1.1.1.1,{#IFDESCR},1.3.6.1.2.1.2.2.1.2,{#IFTYPE},1.3.6.1.2.1.2.2.1.3]'
          key: net.if.discovery
          delay: 2h
          filter:
            conditions:
              -
                macro: '{#IFADMINSTATUS}'
                value: '{$NET.IF.IFADMINSTATUS.MATCHES}'
                formulaid: A
              -
                macro: '{#IFADMINSTATUS}'
                value: '{$NET.IF.IFADMINSTATUS.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              -
                macro: '{#IFALIAS}'
                value: '{$NET.IF.IFALIAS.MATCHES}'
                formulaid: C
              -
                macro: '{#IFALIAS}'
                value: '{$NET.IF.IFALIAS.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: D
              -
                macro: '{#IFDESCR}'
                value: '{$NET.IF.IFDESCR.MATCHES}'
                formulaid: E
              -
                macro: '{#IFDESCR}'
                value: '{$NET.IF.IFDESCR.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: F
              -
                macro: '{#IFNAME}'
                value: '{$NET.IF.IFNAME.MATCHES}'
                formulaid: G
              -
                macro: '{#IFNAME}'
                value: '{$NET.IF.IFNAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: H
              -
                macro: '{#IFOPERSTATUS}'
                value: '{$NET.IF.IFOPERSTATUS.MATCHES}'
                formulaid: I
              -
                macro: '{#IFOPERSTATUS}'
                value: '{$NET.IF.IFOPERSTATUS.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: J
              -
                macro: '{#IFTYPE}'
                value: '{$NET.IF.IFTYPE.MATCHES}'
                formulaid: K
              -
                macro: '{#IFTYPE}'
                value: '{$NET.IF.IFTYPE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: L
          description: 'Discovering interfaces from IF-MIB.'
          item_prototypes:
            -
              uuid: 127545826a4c4f3a8ef54e783406c9c1
              name: 'Interface {#IFNAME}({#IFALIAS}): Inbound packets discarded'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.13.{#SNMPINDEX}'
              key: 'net.if.in.discards[ifInDiscards.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              description: |
                MIB: IF-MIB
                The number of inbound packets which were chosen to be discarded
                even though no errors had been detected to prevent their being deliverable to a higher-layer protocol.
                One possible reason for discarding such a packet could be to free up buffer space.
                Discontinuities in the value of this counter can occur at re-initialization of the management system,
                and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: 7e3b94cde4f044e79424a34b7fb2e883
              name: 'Interface {#IFNAME}({#IFALIAS}): Inbound packets with errors'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.20.{#SNMPINDEX}'
              key: 'net.if.in.errors[ifInErrors.{#SNMPINDEX}]'
              delay: 3m
              description: |
                MIB: IF-MIB
                For packet-oriented interfaces, the number of inbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of inbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: 694d4645bc0946638e1df07244439aea
              name: 'Interface {#IFNAME}({#IFALIAS}): Bits received'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.31.1.1.1.6.{#SNMPINDEX}'
              key: 'net.if.in[ifHCInOctets.{#SNMPINDEX}]'
              delay: 3m
              units: bps
              description: |
                MIB: IF-MIB
                The total number of octets received on the interface, including framing characters. This object is a 64-bit version of ifInOctets. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                -
                  type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: 250600e3854d420abf815f80578da6fa
              name: 'Interface {#IFNAME}({#IFALIAS}): Outbound packets discarded'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.19.{#SNMPINDEX}'
              key: 'net.if.out.discards[ifOutDiscards.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              description: |
                MIB: IF-MIB
                The number of outbound packets which were chosen to be discarded
                even though no errors had been detected to prevent their being deliverable to a higher-layer protocol.
                One possible reason for discarding such a packet could be to free up buffer space.
                Discontinuities in the value of this counter can occur at re-initialization of the management system,
                and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: 4f5d9728fa334cb2a71c06cf3c77258d
              name: 'Interface {#IFNAME}({#IFALIAS}): Outbound packets with errors'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.20.{#SNMPINDEX}'
              key: 'net.if.out.errors[ifOutErrors.{#SNMPINDEX}]'
              delay: 3m
              description: |
                MIB: IF-MIB
                For packet-oriented interfaces, the number of outbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of outbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: 45d7faa6bd0d41cdadd8f30033bcf716
              name: 'Interface {#IFNAME}({#IFALIAS}): Bits sent'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.31.1.1.1.10.{#SNMPINDEX}'
              key: 'net.if.out[ifHCOutOctets.{#SNMPINDEX}]'
              delay: 3m
              units: bps
              description: |
                MIB: IF-MIB
                The total number of octets transmitted out of the interface, including framing characters. This object is a 64-bit version of ifOutOctets.Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                -
                  type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: 6987b04eaad045189be836dcf79a657c
              name: 'Interface {#IFNAME}({#IFALIAS}): portOpModePortFlowCntl'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.890.1.5.8.16.19.1.1.2.{#SNMPINDEX}'
              key: 'net.if.portOpModePortFlowCntl[portOpModePortFlowCntl.{#SNMPINDEX}]'
              delay: 1h
              history: 7d
              description: 'MIB: ZYXEL-ES2024A-MIB'
              valuemap:
                name: 'ZYXEL-ES2024A-MIB::portOpModePortFlowCntl'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: component
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: e5a6fd815b404fe195671ef16dc32d70
              name: 'Interface {#IFNAME}({#IFALIAS}): portOpModePortIntrusionLock'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.890.1.5.8.16.19.1.1.6.{#SNMPINDEX}'
              key: 'net.if.portOpModePortIntrusionLock[portOpModePortIntrusionLock.{#SNMPINDEX}]'
              delay: 1h
              history: 7d
              description: 'MIB: ZYXEL-ES2024A-MIB'
              valuemap:
                name: 'ZYXEL-ES2024A-MIB::portOpModePortIntrusionLock'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: component
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: 4a2f007e743a40fe92bba487c964cb4f
              name: 'Interface {#IFNAME}({#IFALIAS}): portOpModePortLBTestStatus'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.890.1.5.8.16.19.1.1.7.{#SNMPINDEX}'
              key: 'net.if.portOpModePortLBTestStatus[portOpModePortLBTestStatus.{#SNMPINDEX}]'
              delay: 1h
              history: 7d
              description: 'MIB: ZYXEL-ES2024A-MIB'
              valuemap:
                name: 'ZYXEL-ES2024A-MIB::portOpModePortLBTestStatus'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: component
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: b3d4fd3d9ef84b478fef90fbd5437461
              name: 'Interface {#IFNAME}({#IFALIAS}): portOpModePortLinkUpType'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.890.1.5.8.16.19.1.1.5.{#SNMPINDEX}'
              key: 'net.if.portOpModePortLinkUpType[portOpModePortLinkUpType.{#SNMPINDEX}]'
              delay: 1h
              history: 7d
              description: 'MIB: ZYXEL-ES2024A-MIB'
              valuemap:
                name: 'ZYXEL-ES2024A-MIB::portOpModePortLinkUpType'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: component
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: 8887f0975f1d41f39e79a65b6cceba60
              name: 'Interface {#IFNAME}({#IFALIAS}): portOpModePortModuleType'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.890.1.5.8.16.19.1.1.4.{#SNMPINDEX}'
              key: 'net.if.portOpModePortModuleType[portOpModePortModuleType.{#SNMPINDEX}]'
              delay: 1h
              history: 7d
              description: 'MIB: ZYXEL-ES2024A-MIB'
              valuemap:
                name: 'ZYXEL-ES2024A-MIB::portOpModePortModuleType'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: component
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: 33f6a81952c84402afcb5931547c345e
              name: 'Interface {#IFNAME}({#IFALIAS}): portOpModePortSpeedDuplex'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.890.1.5.8.16.19.1.1.1.{#SNMPINDEX}'
              key: 'net.if.portOpModePortSpeedDuplex[portOpModePortSpeedDuplex.{#SNMPINDEX}]'
              delay: 1h
              history: 7d
              description: 'MIB: ZYXEL-ES2024A-MIB'
              valuemap:
                name: 'ZYXEL-ES2024A-MIB::portOpModePortSpeedDuplex'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: component
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: efdce6160e634a0884f662f35dad9ab4
              name: 'Interface {#IFNAME}({#IFALIAS}): Speed'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.31.1.1.1.15.{#SNMPINDEX}'
              key: 'net.if.speed[ifHighSpeed.{#SNMPINDEX}]'
              delay: 5m
              units: bps
              description: |
                MIB: IF-MIB
                An estimate of the interface's current bandwidth in units of 1,000,000 bits per second. If this object reports a value of `n' then the speed of the interface is somewhere in the range of `n-500,000' to`n+499,999'.  For interfaces which do not vary in bandwidth or for those where no accurate estimation can be made, this object should contain the nominal bandwidth. For a sub-layer which has no concept of bandwidth, this object should be zero.
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '1000000'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
            -
              uuid: f6e57823a6ce4d19a0fd167540548327
              name: 'Interface {#IFNAME}({#IFALIAS}): Operational status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}'
              key: 'net.if.status[ifOperStatus.{#SNMPINDEX}]'
              history: 7d
              description: |
                MIB: IF-MIB
                The current operational state of the interface.
                - The testing(3) state indicates that no operational packet scan be passed
                - If ifAdminStatus is down(2) then ifOperStatus should be down(2)
                - If ifAdminStatus is changed to up(1) then ifOperStatus should change to up(1) if the interface is ready to transmit and receive network traffic
                - It should change todormant(5) if the interface is waiting for external actions (such as a serial line waiting for an incoming connection)
                - It should remain in the down(2) state if and only if there is a fault that prevents it from going to the up(1) state
                - It should remain in the notPresent(6) state if the interface has missing(typically, hardware) components.
              valuemap:
                name: 'IF-MIB::ifOperStatus'
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
              trigger_prototypes:
                -
                  uuid: e17dffd08e5743f489fcdc20d55e7dcc
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
                  name: 'Interface {#IFNAME}({#IFALIAS}): Link down'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: |
                    This trigger expression works as follows:
                    1. Can be triggered if operations status is down.
                    2. {$IFCONTROL:"{#IFNAME}"}=1 - user can redefine Context macro to value - 0. That marks this interface as not important. No new trigger will be fired if this interface is down.
                    3. {TEMPLATE_NAME:METRIC.diff()}=1) - trigger fires only if operational status was up(1) sometime before. (So, do not fire 'ethernal off' interfaces.)
                    
                    WARNING: if closed manually - won't fire again on next poll, because of .diff.
                  tags:
                    -
                      tag: scope
                      value: availability
            -
              uuid: ca70d4a9eb6f47f8924292a7c48abb73
              name: 'Interface {#IFNAME}({#IFALIAS}): Interface type'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.3.{#SNMPINDEX}'
              key: 'net.if.type[ifType.{#SNMPINDEX}]'
              delay: 1h
              history: 7d
              description: |
                MIB: IF-MIB
                The type of interface.
                Additional values for ifType are assigned by the Internet Assigned Numbers Authority (IANA),
                through updating the syntax of the IANAifType textual convention.
              valuemap:
                name: 'IF-MIB::ifType'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
          trigger_prototypes:
            -
              uuid: 29287d01d6e247b4b674805da6cffdc5
              expression: |
                change(/ZYXEL ES2024A SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}])<0 and last(/ZYXEL ES2024A SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}])>0
                and (
                last(/ZYXEL ES2024A SNMP/net.if.type[ifType.{#SNMPINDEX}])=6 or
                last(/ZYXEL ES2024A SNMP/net.if.type[ifType.{#SNMPINDEX}])=7 or
                last(/ZYXEL ES2024A SNMP/net.if.type[ifType.{#SNMPINDEX}])=11 or
                last(/ZYXEL ES2024A SNMP/net.if.type[ifType.{#SNMPINDEX}])=62 or
                last(/ZYXEL ES2024A SNMP/net.if.type[ifType.{#SNMPINDEX}])=69 or
                last(/ZYXEL ES2024A SNMP/net.if.type[ifType.{#SNMPINDEX}])=117
                )
                and
                (last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2)
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                (change(/ZYXEL ES2024A SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}])>0 and last(/ZYXEL ES2024A SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}],#2)>0) or
                (last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2)
              name: 'Interface {#IFNAME}({#IFALIAS}): Ethernet has changed to lower speed than it was before'
              priority: INFO
              description: 'This Ethernet connection has transitioned down from its known maximum speed. This might be a sign of autonegotiation issues. Ack to close.'
              manual_close: 'YES'
              dependencies:
                -
                  name: 'Interface {#IFNAME}({#IFALIAS}): Link down'
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))'
                  recovery_expression: 'last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
              tags:
                -
                  tag: scope
                  value: performance
            -
              uuid: 0462e279d3034fc582f1a93695b2b550
              expression: |
                (avg(/ZYXEL ES2024A SNMP/net.if.in[ifHCInOctets.{#SNMPINDEX}],15m)>({$IF.UTIL.MAX:"{#IFNAME}"}/100)*last(/ZYXEL ES2024A SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}]) or
                avg(/ZYXEL ES2024A SNMP/net.if.out[ifHCOutOctets.{#SNMPINDEX}],15m)>({$IF.UTIL.MAX:"{#IFNAME}"}/100)*last(/ZYXEL ES2024A SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}])) and
                last(/ZYXEL ES2024A SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}])>0
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                avg(/ZYXEL ES2024A SNMP/net.if.in[ifHCInOctets.{#SNMPINDEX}],15m)<(({$IF.UTIL.MAX:"{#IFNAME}"}-3)/100)*last(/ZYXEL ES2024A SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}]) and
                avg(/ZYXEL ES2024A SNMP/net.if.out[ifHCOutOctets.{#SNMPINDEX}],15m)<(({$IF.UTIL.MAX:"{#IFNAME}"}-3)/100)*last(/ZYXEL ES2024A SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}])
              name: 'Interface {#IFNAME}({#IFALIAS}): High bandwidth usage'
              event_name: 'Interface {#IFNAME}({#IFALIAS}): High bandwidth usage (>{$IF.UTIL.MAX:"{#IFNAME}"}%)'
              opdata: 'In: {ITEM.LASTVALUE1}, out: {ITEM.LASTVALUE3}, speed: {ITEM.LASTVALUE2}'
              priority: WARNING
              description: 'The network interface utilization is close to its estimated maximum bandwidth.'
              manual_close: 'YES'
              dependencies:
                -
                  name: 'Interface {#IFNAME}({#IFALIAS}): Link down'
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))'
                  recovery_expression: 'last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
              tags:
                -
                  tag: scope
                  value: performance
            -
              uuid: 3b5308b3570c452b8f3afa7b804b08ac
              expression: |
                min(/ZYXEL ES2024A SNMP/net.if.in.errors[ifInErrors.{#SNMPINDEX}],5m)>{$IF.ERRORS.WARN:"{#IFNAME}"}
                or min(/ZYXEL ES2024A SNMP/net.if.out.errors[ifOutErrors.{#SNMPINDEX}],5m)>{$IF.ERRORS.WARN:"{#IFNAME}"}
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                max(/ZYXEL ES2024A SNMP/net.if.in.errors[ifInErrors.{#SNMPINDEX}],5m)<{$IF.ERRORS.WARN:"{#IFNAME}"}*0.8
                and max(/ZYXEL ES2024A SNMP/net.if.out.errors[ifOutErrors.{#SNMPINDEX}],5m)<{$IF.ERRORS.WARN:"{#IFNAME}"}*0.8
              name: 'Interface {#IFNAME}({#IFALIAS}): High error rate'
              event_name: 'Interface {#IFNAME}({#IFALIAS}): High error rate (>{$IF.ERRORS.WARN:"{#IFNAME}"} for 5m)'
              opdata: 'errors in: {ITEM.LASTVALUE1}, errors out: {ITEM.LASTVALUE2}'
              priority: WARNING
              description: 'Recovers when below 80% of {$IF.ERRORS.WARN:"{#IFNAME}"} threshold'
              manual_close: 'YES'
              dependencies:
                -
                  name: 'Interface {#IFNAME}({#IFALIAS}): Link down'
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))'
                  recovery_expression: 'last(/ZYXEL ES2024A SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
              tags:
                -
                  tag: scope
                  value: availability
                -
                  tag: scope
                  value: performance
          graph_prototypes:
            -
              uuid: 587ceedb27d04628a96794b4e8c1e6f1
              name: 'Interface {#IFNAME}({#IFALIAS}): Network traffic'
              graph_items:
                -
                  color: 199C0D
                  calc_fnc: ALL
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'net.if.in[ifHCInOctets.{#SNMPINDEX}]'
                -
                  sortorder: '1'
                  color: F63100
                  calc_fnc: ALL
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'net.if.out[ifHCOutOctets.{#SNMPINDEX}]'
                -
                  sortorder: '2'
                  color: 2774A4
                  calc_fnc: ALL
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'net.if.in.discards[ifInDiscards.{#SNMPINDEX}]'
                -
                  sortorder: '3'
                  color: F7941D
                  calc_fnc: ALL
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'net.if.in.errors[ifInErrors.{#SNMPINDEX}]'
                -
                  sortorder: '4'
                  color: FC6EA3
                  calc_fnc: ALL
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'net.if.out.discards[ifOutDiscards.{#SNMPINDEX}]'
                -
                  sortorder: '5'
                  color: 6C59DC
                  calc_fnc: ALL
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'net.if.out.errors[ifOutErrors.{#SNMPINDEX}]'
        -
          uuid: b9a02a6efdf3491d9fc25e79684f716b
          name: 'accessCtlSetup discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#ZYXEL.ACCESS.NAME},.1.3.6.1.4.1.890.1.5.8.16.15.1.1.1]'
          key: zyxel.ES2024A.accessCtlSetup.discovery
          delay: 1h
          description: 'MIB: ZYXEL-GS2200-24-MIB'
          item_prototypes:
            -
              uuid: ed2eb50d263f4444bb2f8be66b912b8e
              name: 'ZYXEL ES2024A SNMP: accessCtlEnable"{#ZYXEL.{#SNMPINDEX}.NAME}"'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.890.1.5.8.16.15.1.1.2.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.accessCtlEnable.[{#SNMPINDEX}]'
              delay: 1h
              history: 7d
              description: 'MIB: ZYXEL-ES2024A-MIB'
              valuemap:
                name: 'ZYXEL-ES2024A-MIB::accessCtlEnable'
              tags:
                -
                  tag: component
                  value: access
            -
              uuid: 46e13b00375f425c942798a0373b6ccc
              name: 'ZYXEL ES2024A SNMP: accessCtlServicePort"{#ZYXEL.{#SNMPINDEX}.NAME}"'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.890.1.5.8.16.15.1.1.3.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.accessCtlServicePort.[{#SNMPINDEX}]'
              delay: 1h
              history: 7d
              description: 'MIB: ZYXEL-ES2024A-MIB'
              tags:
                -
                  tag: component
                  value: access
            -
              uuid: 72313f13e99b405b8a159a5c65b7f382
              name: 'ZYXEL ES2024A SNMP: accessCtlSetup "{#ZYXEL.{#SNMPINDEX}.NAME}"'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.890.1.5.8.16.15.1.1.1.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.accessCtlSetup.[{#SNMPINDEX}]'
              delay: 1h
              history: 7d
              description: 'MIB: ZYXEL-ES2024A-MIB'
              valuemap:
                name: 'ZYXEL-ES2024A-MIB::accessCtlService'
              tags:
                -
                  tag: component
                  value: access
          trigger_prototypes:
            -
              uuid: 9193164de4c64c52a0c02ee6b5de09c1
              expression: 'last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.accessCtlEnable.[{#SNMPINDEX}])=1 and last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.accessCtlSetup.[{#SNMPINDEX}])=4'
              name: 'Disable HTTP Acces on  {HOST.NAME}'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              url: 'http://{HOST.IP}'
              priority: INFO
              description: 'telnet is not recommended for remote shell because the username and password are typically passed over the network in plain text; a network sniffer or ``man in the middle'''' attack can steal your password. Not good! ssh encrypts the traffic to help prevent this.'
              manual_close: 'YES'
            -
              uuid: fa39fe1d65064a91b9a0ea82ac8a595f
              expression: 'last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.accessCtlEnable.[{#SNMPINDEX}])=1 and last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.accessCtlSetup.[{#SNMPINDEX}])=1'
              name: 'Disable Telnet Acces on  {HOST.NAME}'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              url: 'http://{HOST.IP}'
              priority: INFO
              description: 'telnet is not recommended for remote shell because the username and password are typically passed over the network in plain text; a network sniffer or ``man in the middle'''' attack can steal your password. Not good! ssh encrypts the traffic to help prevent this.'
              manual_close: 'YES'
        -
          uuid: d900e22b3ae349908f86d8c11ef05f1c
          name: 'Memory pool discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#ZYXEL.MEMORY.NAME},.1.3.6.1.4.1.890.1.5.8.16.124.1.1.2]'
          key: zyxel.ES2024A.memory.discovery
          delay: 1h
          description: 'MIB: ZYXEL-GS2200-24-MIB'
          item_prototypes:
            -
              uuid: aac29b8f52084d118ec9062c63016822
              name: 'ZYXEL ES2024A SNMP: Memory "{#ZYXEL.MEMORY.NAME}" utilization'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.16.124.1.1.5.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.memory[{#SNMPINDEX}]'
              history: 7d
              units: '%'
              description: |
                MIB: ZYXEL-ES2024A-MIB
                Utilization of memory pool in %.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              tags:
                -
                  tag: component
                  value: memory
              trigger_prototypes:
                -
                  uuid: b5c9296d31da43e8a30389bbce4daa31
                  expression: 'min(/ZYXEL ES2024A SNMP/zyxel.ES2024A.memory[{#SNMPINDEX}],5m)>{$MEMORY.UTIL.MAX}'
                  name: 'ZYXEL {$MODEL}: High memory utilization in "{#ZYXEL.MEMORY.NAME}" pool'
                  event_name: 'ZYXEL ES3500-8PD: High memory utilization in "{#ZYXEL.MEMORY.NAME}" pool (>{$MEMORY.UTIL.MAX}% for 5m)'
                  priority: AVERAGE
                  description: 'The system is running out of free memory.'
                  tags:
                    -
                      tag: scope
                      value: performance
        -
          uuid: a842f06ae8c8459487d2098ab64662bc
          name: 'Interface discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#ZYXEL.IF.NAME},.1.3.6.1.4.1.890.1.5.8.16.24.1.1.3,{#ZYXEL.IF.LINKUPTYPE},.1.3.6.1.4.1.890.1.5.8.16.24.1.1.5]'
          key: zyxel.ES2024A.net.if.discovery
          delay: 1h
          filter:
            evaltype: AND
            conditions:
              -
                macro: '{#ZYXEL.IF.NAME}'
                value: '{$ZYXEL.LLD.FILTER.IF.NAME.MATCHES}'
                formulaid: C
              -
                macro: '{#ZYXEL.IF.NAME}'
                value: '{$ZYXEL.LLD.FILTER.IF.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: D
              -
                macro: '{#ZYXEL.IF.LINKUPTYPE}'
                value: '{$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.MATCHES}'
                formulaid: A
              -
                macro: '{#ZYXEL.IF.LINKUPTYPE}'
                value: '{$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          description: 'MIB: ZYXEL-GS2200-24-MIB'
          item_prototypes:
            -
              uuid: 3584c7f70a2e456db080608fa5bc53aa
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Administrative status'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.2.2.1.7.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.adminstatus[{#SNMPINDEX}]'
              history: 7d
              description: |
                MIB: IF-MIB
                The desired state of the interface.  The
                testing(3) state indicates that no operational
                packets can be passed.
              valuemap:
                name: 'ZYXEL ES2024A port admin status'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 4be946b214a145b79b319a5c0f6c7985
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Interface name'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.2.2.1.2.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.descr[{#SNMPINDEX}]'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                MIB: IF-MIB
                A textual string containing information about the interface
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 2126be190484499f826ae27f2c0da56e
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Link speed'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.31.1.1.1.15.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.highspeed[{#SNMPINDEX}]'
              history: 7d
              units: bps
              description: |
                MIB: IF-MIB
                An estimate of the interface's current bandwidth in bits per second
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '1000000'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: c6f9906465d542748e2a428769d9dc3b
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Incoming broadcast packages'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.31.1.1.1.9.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.in.broadcastpkts[{#SNMPINDEX}]'
              history: 7d
              units: packets/s
              description: |
                MIB: IF-MIB
                The number of packets, delivered by this sub-layer to a
                higher (sub-)layer, which were addressed to a broadcast
                address at this sub-layer.
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: ccd7bab1111844c2aa51301398227c91
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Incoming multicast packages'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.31.1.1.1.8.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.in.multicastpkts[{#SNMPINDEX}]'
              history: 7d
              units: packets/s
              description: |
                MIB: IF-MIB
                The number of packets, delivered by this sub-layer to a
                higher (sub-)layer, which were addressed to a multicast
                address at this sub-layer.  For a MAC layer protocol, this
                includes both Group and Functional addresses.
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 7bc1ea02b1d641d0b5779cd7902e064b
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Incoming traffic'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.31.1.1.1.6.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.in.traffic[{#SNMPINDEX}]'
              history: 7d
              units: bps
              description: |
                MIB: IF-MIB
                The total number of octets received on the interface,
                including framing characters.
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '8'
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: cb8d42f0d8014bf6ab2f4e13c6e820e1
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Incoming unicast packages'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.31.1.1.1.7.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.in.ucastpkts[{#SNMPINDEX}]'
              history: 7d
              units: packets/s
              description: |
                MIB: IF-MIB
                The number of packets, delivered by this sub-layer to a
                higher (sub-)layer, which were not addressed to a multicast
                or broadcast address at this sub-layer
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 7501a36c44cf46f5bb22c0fb59f72dad
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Incoming utilization'
              type: CALCULATED
              key: 'zyxel.ES2024A.net.if.in.util[{#SNMPINDEX}]'
              history: 7d
              value_type: FLOAT
              units: '%'
              params: 'last(//zyxel.ES2024A.net.if.in.traffic[{#SNMPINDEX}]) * (last(//zyxel.ES2024A.net.if.highspeed[{#SNMPINDEX}]) <> 0) / ( last(//zyxel.ES2024A.net.if.highspeed[{#SNMPINDEX}]) + (last(//zyxel.ES2024A.net.if.highspeed[{#SNMPINDEX}]) = 0) ) * 100'
              description: 'Interface utilization percentage'
              preprocessing:
                -
                  type: IN_RANGE
                  parameters:
                    - '0'
                    - '100'
                  error_handler: DISCARD_VALUE
                -
                  type: JAVASCRIPT
                  parameters:
                    - 'return +parseFloat(value).toFixed(0);'
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: a3bfa6bac7cd46b2a49f3f19421a673d
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Link type'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.16.24.1.1.5.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.link_type[{#SNMPINDEX}]'
              history: 7d
              description: |
                MIB:  ZYXEL-ES2024A-MIB
                Physical connection type
              valuemap:
                name: 'ZYXEL ES2024A operational mode port link up type'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 2a2b1f6441f44e11b8d0490f0a7e62c1
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Interface description'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.16.24.1.1.3.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.name[{#SNMPINDEX}]'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                MIB:  ZYXEL-ES2024A-MIB
                A textual string containing information about the interface
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 9a5904628064482bb03f82a4312db87a
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Operational status'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.operstatus[{#SNMPINDEX}]'
              history: 7d
              description: |
                MIB: IF-MIB
                The current operational state of the interface.
                The testing(3) state indicates that no operational
                packets can be passed.
              valuemap:
                name: 'ZYXEL ES2024A port operational status'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
              trigger_prototypes:
                -
                  uuid: 5cddbbb3fadb4b1da4421266059a0fec
                  expression: 'last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.net.if.operstatus[{#SNMPINDEX}])=2 and last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.net.if.operstatus[{#SNMPINDEX}],#1)<>last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.net.if.operstatus[{#SNMPINDEX}],#2)'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.net.if.operstatus[{#SNMPINDEX}])<>2'
                  name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Link down'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: |
                    This trigger expression works as follows:
                    1. Can be triggered if operations status is down.
                    2. {TEMPLATE_NAME:METRIC.diff()}=1) - trigger fires only if operational status was up(1) sometime before. (So, do not fire 'ethernal off' interfaces.)
                    
                    WARNING: if closed manually - won't fire again on next poll, because of .diff.
                  tags:
                    -
                      tag: scope
                      value: notice
            -
              uuid: 42b1c1e26fd74cae8bbe8933914c326b
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Outgoing broadcast packages'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.31.1.1.1.13.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.out.broadcastpkts[{#SNMPINDEX}]'
              history: 7d
              units: packets/s
              description: |
                MIB: IF-MIB
                The total number of packets that higher-level protocols
                requested be transmitted, and which were addressed to a
                broadcast address at this sub-layer, including those that
                were discarded or not sent.
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: e81cc28858bf4b24a36ea7956ca6f1f8
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Outgoing multicast packages'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.31.1.1.1.12.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.out.multicastpkts[{#SNMPINDEX}]'
              history: 7d
              units: packets/s
              description: |
                MIB: IF-MIB
                The total number of packets that higher-level protocols
                requested be transmitted, and which were addressed to a
                multicast address at this sub-layer, including those that
                were discarded or not sent.  For a MAC layer protocol, this
                includes both Group and Functional addresses.
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 30022182f8e84b31946e792c41608299
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Outgoing traffic'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.31.1.1.1.10.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.out.traffic[{#SNMPINDEX}]'
              history: 7d
              units: bps
              description: |
                MIB: IF-MIB
                The total number of octets transmitted out of the
                interface, including framing characters.  This object is a
                64-bit version of ifOutOctets.
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '8'
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: adf41265deca48498ac5becaca76c2f6
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Outgoing unicast packages'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.31.1.1.1.11.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.out.ucastpkts[{#SNMPINDEX}]'
              history: 7d
              units: packets/s
              description: |
                MIB: IF-MIB
                The total number of packets that higher-level protocols
                requested be transmitted, and which were not addressed to a
                multicast or broadcast address at this sub-layer, including
                those that were discarded or not sent.
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 99efd143e9f941e491f9b8bb0a36d357
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Outgoing utilization'
              type: CALCULATED
              key: 'zyxel.ES2024A.net.if.out.util[{#SNMPINDEX}]'
              history: 7d
              value_type: FLOAT
              units: '%'
              params: 'last(//zyxel.ES2024A.net.if.out.traffic[{#SNMPINDEX}]) * (last(//zyxel.ES2024A.net.if.highspeed[{#SNMPINDEX}]) <> 0) / ( last(//zyxel.ES2024A.net.if.highspeed[{#SNMPINDEX}]) + (last(//zyxel.ES2024A.net.if.highspeed[{#SNMPINDEX}]) = 0) ) * 100'
              description: 'Interface utilization percentage'
              preprocessing:
                -
                  type: IN_RANGE
                  parameters:
                    - '0'
                    - '100'
                  error_handler: DISCARD_VALUE
                -
                  type: JAVASCRIPT
                  parameters:
                    - 'return +parseFloat(value).toFixed(0);'
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 872128c3bcf34a9e95f002f769b2ffd9
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Speed Duplex'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.16.24.1.1.1.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.net.if.speed_duplex[{#SNMPINDEX}]'
              history: 7d
              description: |
                MIB: ZYXEL-ES2024A-MIB
                Transmission mode
              valuemap:
                name: 'ZYXEL ES2024A operational mode port speed duplex'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
          graph_prototypes:
            -
              uuid: 12901cb13a9245c9a0fe66dba9117193
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Packets traffic'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.net.if.in.ucastpkts[{#SNMPINDEX}]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.net.if.out.ucastpkts[{#SNMPINDEX}]'
                -
                  sortorder: '2'
                  color: F63100
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.net.if.in.multicastpkts[{#SNMPINDEX}]'
                -
                  sortorder: '3'
                  color: A54F10
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.net.if.out.multicastpkts[{#SNMPINDEX}]'
                -
                  sortorder: '4'
                  color: FC6EA3
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.net.if.in.broadcastpkts[{#SNMPINDEX}]'
                -
                  sortorder: '5'
                  color: 6C59DC
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.net.if.out.broadcastpkts[{#SNMPINDEX}]'
            -
              uuid: d32ad62127b04f348c5a549b17311f39
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Traffic'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.net.if.in.traffic[{#SNMPINDEX}]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.net.if.out.traffic[{#SNMPINDEX}]'
            -
              uuid: 1c5ff4d3e6d94f7280ae1de7c4e2e501
              name: 'ZYXEL {$MODEL}: Port {#SNMPINDEX}: Utilization'
              ymin_type_1: FIXED
              ymax_type_1: FIXED
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.net.if.out.util[{#SNMPINDEX}]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.net.if.in.util[{#SNMPINDEX}]'
          overrides:
            -
              name: 'Don''t create triggers for matching interface'
              step: '1'
              filter:
                conditions:
                  -
                    macro: '{#ZYXEL.IF.NAME}'
                    value: '{$ZYXEL.LLD.FILTER.IF.CONTROL.MATCHES}'
                    operator: NOT_MATCHES_REGEX
                    formulaid: A
              operations:
                -
                  operationobject: TRIGGER_PROTOTYPE
                  operator: REGEXP
                  value: '.*'
                  status: ENABLED
                  discover: NO_DISCOVER
        -
          uuid: aa543987445b45739c4b32dee82ccd9a
          name: 'EtherLike-MIB Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.2.1.10.7.2.1.19,{#IFOPERSTATUS},1.3.6.1.2.1.2.2.1.8,{#IFALIAS},1.3.6.1.2.1.31.1.1.1.18,{#IFNAME},1.3.6.1.2.1.31.1.1.1.1,{#IFDESCR},1.3.6.1.2.1.2.2.1.2]'
          key: zyxel.ES2024A.net.if.duplex.discovery
          delay: 2h
          filter:
            conditions:
              -
                macro: '{#IFOPERSTATUS}'
                value: '1'
                formulaid: A
              -
                macro: '{#SNMPVALUE}'
                value: (2|3)
                formulaid: B
          description: 'Discovering interfaces from IF-MIB and EtherLike-MIB. Interfaces with up(1) Operational Status are discovered.'
          item_prototypes:
            -
              uuid: eb87a3ba06834106b4220d682c7514ca
              name: 'Interface {#IFNAME}({#IFALIAS}): Duplex status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.10.7.2.1.19.{#SNMPINDEX}'
              key: 'net.if.duplex[dot3StatsDuplexStatus.{#SNMPINDEX}]'
              history: 7d
              description: |
                MIB: EtherLike-MIB
                The current mode of operation of the MAC
                entity.  'unknown' indicates that the current
                duplex mode could not be determined.
                
                Management control of the duplex mode is
                accomplished through the MAU MIB.  When
                an interface does not support autonegotiation,
                or when autonegotiation is not enabled, the
                duplex mode is controlled using
                ifMauDefaultType.  When autonegotiation is
                supported and enabled, duplex mode is controlled
                using ifMauAutoNegAdvertisedBits.  In either
                case, the currently operating duplex mode is
                reflected both in this object and in ifMauType.
                
                Note that this object provides redundant
                information with ifMauType.  Normally, redundant
                objects are discouraged.  However, in this
                instance, it allows a management application to
                determine the duplex status of an interface
                without having to know every possible value of
                ifMauType.  This was felt to be sufficiently
                valuable to justify the redundancy.
                Reference: [IEEE 802.3 Std.], 30.3.1.1.32,aDuplexStatus.
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#IFALIAS}'
                -
                  tag: interface
                  value: '{#IFNAME}'
              trigger_prototypes:
                -
                  uuid: d03cb249b87c4be48054420a9b7b831b
                  expression: 'last(/ZYXEL ES2024A SNMP/net.if.duplex[dot3StatsDuplexStatus.{#SNMPINDEX}])=2'
                  name: 'Interface {#IFNAME}({#IFALIAS}): In half-duplex mode'
                  priority: WARNING
                  description: 'Please check autonegotiation settings and cabling'
                  manual_close: 'YES'
                  tags:
                    -
                      tag: scope
                      value: performance
          preprocessing:
            -
              type: JAVASCRIPT
              parameters:
                - |
                  try {
                      var data = JSON.parse(value);
                  }
                  catch (error) {
                      throw 'Failed to parse JSON of EtherLike-MIB discovery.';
                  }
                  var fields = ['{#SNMPVALUE}','{#IFOPERSTATUS}','{#IFALIAS}','{#IFNAME}','{#IFDESCR}'];
                  data.forEach(function (element) {
                      fields.forEach(function (field) {
                          element[field] = element[field] || '';
                      });
                  });
                  return JSON.stringify(data);
        -
          uuid: 73d8d428d6d74aa5a16f50747c730fee
          name: 'SFP with DDM discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#ZYXEL.SFP.WARN.MAX},.1.3.6.1.4.1.890.1.5.8.16.117.2.1.5,{#ZYXEL.SFP.WARN.MIN},.1.3.6.1.4.1.890.1.5.8.16.117.2.1.6,{#ZYXEL.SFP.DESCRIPTION},.1.3.6.1.4.1.890.1.5.8.16.117.2.1.8]'
          key: zyxel.ES2024A.sfp.ddm.discovery
          delay: 12h
          filter:
            evaltype: AND
            conditions:
              -
                macro: '{#ZYXEL.SFP.DESCRIPTION}'
                value: '{$ZYXEL.LLD.FILTER.SFPDDM.DESC.MATCHES}'
                formulaid: A
              -
                macro: '{#ZYXEL.SFP.DESCRIPTION}'
                value: '{$ZYXEL.LLD.FILTER.SFPDDM.DESC.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          description: |
            MIB: ZYXEL-GS2200-24-MIB
            SFP DDM module discovery.
          item_prototypes:
            -
              uuid: e31dc08c6dfb44aba01061c19338090b
              name: 'ZYXEL ES2024A SNMP: SFP {#ZYXEL.SFP.PORT}: {#ZYXEL.SFP.DESCRIPTION}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.16.117.2.1.7.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.sfp.ddm[{#SNMPINDEX}]'
              delay: '{$ZYXEL.LLD.SFP.UPDATE}'
              history: 7d
              value_type: FLOAT
              units: '!{#ZYXEL.SFP.UNIT}'
              description: |
                MIB: ZYXEL-ES3500-8PD-MIB
                Transceiver module DDM data ({#ZYXEL.SFP.DESCRIPTION}).
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.01'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
              trigger_prototypes:
                -
                  uuid: 08b5144c9ba744238052680bf1f1e337
                  expression: 'last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.sfp.ddm[{#SNMPINDEX}]) < {#ZYXEL.SFP.WARN.MIN}'
                  name: 'ZYXEL {$MODEL}: SFP {#ZYXEL.SFP.PORT}: Low {#ZYXEL.SFP.DESCRIPTION}'
                  event_name: 'ZYXEL ES3500-8PD: SFP {#ZYXEL.SFP.PORT}: Low {#ZYXEL.SFP.DESCRIPTION} (less than {#ZYXEL.SFP.WARN.MIN}{#ZYXEL.SFP.UNIT})'
                  priority: WARNING
                  description: 'The parameter values are less than the lower threshold'
                  tags:
                    -
                      tag: scope
                      value: notice
                -
                  uuid: 8a6329a915c8488aae82129c81af3cb8
                  expression: 'last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.sfp.ddm[{#SNMPINDEX}]) > {#ZYXEL.SFP.WARN.MAX}'
                  name: 'ZYXEL {$MODEL} SFP {#ZYXEL.SFP.PORT}: High {#ZYXEL.SFP.DESCRIPTION}'
                  event_name: 'ZYXEL {$MODEL}: SFP {#ZYXEL.SFP.PORT}: High {#ZYXEL.SFP.DESCRIPTION} (over {#ZYXEL.SFP.WARN.MAX}{#ZYXEL.SFP.UNIT})'
                  priority: WARNING
                  description: 'The upper threshold value of the parameter is exceeded'
                  tags:
                    -
                      tag: scope
                      value: notice
          graph_prototypes:
            -
              uuid: 3ac5bd5011764841ab1fb78187fab09c
              name: 'ZYXEL {$MODEL}: SFP {#ZYXEL.SFP.PORT}: {#ZYXEL.SFP.DESCRIPTION}'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.sfp.ddm[{#SNMPINDEX}]'
          preprocessing:
            -
              type: JAVASCRIPT
              parameters:
                - |
                  var inArray = JSON.parse(value);
                  var nameMap = {
                      'Temperature': '°C',
                      'Voltage': 'V',
                      'TxBias': 'mA',
                      'TxPower': 'dbm',
                      'RxPower': 'dbm'
                  };
                  var outArr = [];
                  inArray.forEach(function (item, i, arr) {
                      item['{#ZYXEL.SFP.PORT}'] = item['{#SNMPINDEX}'].split('.')[0];
                      item['{#ZYXEL.SFP.UNIT}'] = nameMap[item['{#ZYXEL.SFP.DESCRIPTION}']] === undefined ? "" : nameMap[item['{#ZYXEL.SFP.DESCRIPTION}']];
                      item['{#ZYXEL.SFP.WARN.MAX}'] /= 100;
                      item['{#ZYXEL.SFP.WARN.MIN}'] /= 100;
                      outArr.push(item)
                  });
                  return JSON.stringify(outArr);
        -
          uuid: 985ab768578d4c9b8cb48f3871930862
          name: 'SFP without DDM discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#ZYXEL.SFP.STATUS},.1.3.6.1.4.1.890.1.5.8.16.117.1.1.2]'
          key: zyxel.ES2024A.sfp.discovery
          delay: 12h
          filter:
            evaltype: AND
            conditions:
              -
                macro: '{#ZYXEL.SFP.STATUS}'
                value: '{$ZYXEL.LLD.FILTER.SFP.STATUS.MATCHES}'
                formulaid: A
              -
                macro: '{#ZYXEL.SFP.STATUS}'
                value: '{$ZYXEL.LLD.FILTER.SFP.STATUS.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          description: |
            MIB: ZYXEL-GS2200-24-MIB
            SFP module discovery.
          item_prototypes:
            -
              uuid: 89f0e5af690748ad9f1d836120f40378
              name: 'ZYXEL ES3500-8PD: SFP {#SNMPINDEX}: Date code'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.55.117.1.1.7.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.sfp.datecode[{#SNMPINDEX}]'
              delay: '{$ZYXEL.LLD.SFP.UPDATE}'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                MIB: ZYXEL-GS2200-24-MIB
                Transceiver module vendor's manufacturing date code.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 6dcb684421fc44ac896b363639c8d465
              name: 'ZYXEL ES3500-8PD: SFP {#SNMPINDEX}: Part number'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.55.117.1.1.4.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.sfp.part[{#SNMPINDEX}]'
              delay: '{$ZYXEL.LLD.SFP.UPDATE}'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                MIB: ZYXEL-GS2200-24-MIB
                Part number provided by transceiver module vendor.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 7a84905a251d43a4988e8758b9465a03
              name: 'ZYXEL ES3500-8PD: SFP {#SNMPINDEX}: Revision'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.55.117.1.1.6.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.sfp.revision[{#SNMPINDEX}]'
              delay: '{$ZYXEL.LLD.SFP.UPDATE}'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                MIB: ZYXEL-GS2200-24-MIB
                Revision level for part number provided by transceiver module vendor.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: a7ee565e0245492eb4d335aacfbf8e80
              name: 'ZYXEL ES3500-8PD: SFP {#SNMPINDEX}: Serial number'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.55.117.1.1.5.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.sfp.serialnumber[{#SNMPINDEX}]'
              delay: '{$ZYXEL.LLD.SFP.UPDATE}'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                MIB: ZYXEL-GS2200-24-MIB
                Serial number provided by transceiver module vendor.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
              trigger_prototypes:
                -
                  uuid: c1974e747eb54ab8bcec9752dbd872f5
                  expression: 'last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.sfp.serialnumber[{#SNMPINDEX}],#1)<>last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.sfp.serialnumber[{#SNMPINDEX}],#2) and length(last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.sfp.serialnumber[{#SNMPINDEX}]))>0'
                  name: 'ZYXEL {$MODEL}: SFP {#SNMPINDEX} has been replaced'
                  event_name: 'ZYXEL {$MODEL}: SFP {#SNMPINDEX} has been replaced (new serial number received)'
                  priority: INFO
                  description: 'SFP {#SNMPINDEX} serial number has changed. Ack to close'
                  tags:
                    -
                      tag: scope
                      value: notice
            -
              uuid: a191742164e4408496476f19f7d4ca50
              name: 'ZYXEL ES3500-8PD: SFP {#SNMPINDEX}: Status'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.55.117.1.1.2.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.sfp.status[{#SNMPINDEX}]'
              delay: '{$ZYXEL.LLD.SFP.UPDATE}'
              history: 7d
              description: |
                MIB: ZYXEL-GS2200-24-MIB
                Transceiver module status.
              valuemap:
                name: 'ZYXEL ES2024A SFP status'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 42378d44c5db4b1e95e73cdc24f92310
              name: 'ZYXEL ES3500-8PD: SFP {#SNMPINDEX}: Transceiver'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.55.117.1.1.8.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.sfp.transceiver[{#SNMPINDEX}]'
              delay: '{$ZYXEL.LLD.SFP.UPDATE}'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                MIB: ZYXEL-GS2200-24-MIB
                Transceiver module type names.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
            -
              uuid: 69fb0192728540a1b183d2f7bb65c6ff
              name: 'ZYXEL ES3500-8PD: SFP {#SNMPINDEX}: Vendor'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.55.117.1.1.3.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.sfp.vendor[{#SNMPINDEX}]'
              delay: '{$ZYXEL.LLD.SFP.UPDATE}'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                MIB: ZYXEL-GS2200-24-MIB
                Transceiver module vendor name.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              tags:
                -
                  tag: component
                  value: network
                -
                  tag: description
                  value: '{#ZYXEL.IF.NAME}'
                -
                  tag: interface
                  value: '{#SNMPINDEX}'
        -
          uuid: bed709e1cc2d4d6aba5af9e4c8bdfbe7
          name: 'Temperature discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#ZYXEL.TEMP.THRESH.HIGH},.1.3.6.1.4.1.890.1.5.8.16.9.2.1.5]'
          key: zyxel.ES2024A.temp.discovery
          delay: 1h
          description: |
            MIB: ZYXEL-GS2200-24-MIB
            An entry in tempTable.
            Index of temperature unit. 1:MAC, 2:CPU, 3:PHY
          item_prototypes:
            -
              uuid: c747a4d7d0cc42d3bc22221ae0c3a764
              name: 'ZYXEL ES2024A SNMP: Temperature "{#ZYXEL.TEMP.ID}"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.16.9.2.1.2.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.temp[{#SNMPINDEX}]'
              history: 7d
              units: °C
              description: |
                MIB:ZYXEL-GS2200-24-MIB
                The current temperature measured at this sensor
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              tags:
                -
                  tag: component
                  value: sensor
                -
                  tag: component
                  value: temperature
              trigger_prototypes:
                -
                  uuid: 6ef0519f5a284d78a52b6dec9fbc6ede
                  expression: 'last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.temp[{#SNMPINDEX}])>{#ZYXEL.TEMP.THRESH.HIGH}'
                  name: 'ZYXEL {$MODEL}: Temperature {#ZYXEL.TEMP.ID} is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the temperature'
                  tags:
                    -
                      tag: scope
                      value: notice
          graph_prototypes:
            -
              uuid: 875affdb573446e197cb2e9a6f91d156
              name: 'ZYXEL {$MODEL}: Temperature "{#ZYXEL.TEMP.ID}"'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.temp[{#SNMPINDEX}]'
          preprocessing:
            -
              type: JAVASCRIPT
              parameters:
                - |
                  var inArray = JSON.parse(value);
                  var nameMap = {"1":"MAC", "2":"CPU", "3":"PHY"};
                  var outArr = [];
                  inArray.forEach(function(item, i, arr) {
                  item["{#ZYXEL.TEMP.ID}"] = nameMap[item["{#SNMPINDEX}"]]
                  outArr.push(item)
                  });
                  return JSON.stringify(outArr);
        -
          uuid: 950407d4b128486fa50aa1cf3cfbcd01
          name: 'Voltage discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#ZYXEL.VOLT.THRESH.LOW},.1.3.6.1.4.1.890.1.5.8.16.9.3.1.6,{#ZYXEL.VOLT.NOMINAL},.1.3.6.1.4.1.890.1.5.8.16.9.3.1.5]'
          key: zyxel.ES2024A.volt.discovery
          delay: 1h
          description: |
            MIB: ZYXEL-GS2200-24-MIB
            An entry in voltageTable.
          item_prototypes:
            -
              uuid: bd711f0305e24ffb8a64b5c363e57f62
              name: 'ZYXEL {$MODEL}: Nominal "{#ZYXEL.VOLT.NOMINAL}"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.890.1.5.8.16.9.3.1.2.{#SNMPINDEX}'
              key: 'zyxel.ES2024A.volt[{#SNMPINDEX}]'
              history: 7d
              value_type: FLOAT
              units: V
              description: |
                MIB: ZYXEL-GS2200-24-MIB
                The current voltage reading.
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              tags:
                -
                  tag: component
                  value: sensor
                -
                  tag: component
                  value: voltage
              trigger_prototypes:
                -
                  uuid: 40cb03560cd74852838af0e94b7589b2
                  expression: 'last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.volt[{#SNMPINDEX}])<{#ZYXEL.VOLT.THRESH.LOW}'
                  name: 'ZYXEL {$MODEL}: Voltage {#ZYXEL.VOLT.NOMINAL} is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the power supply'
                  tags:
                    -
                      tag: scope
                      value: notice
          graph_prototypes:
            -
              uuid: 416bdb194ada457f81d7bf40770dccfb
              name: 'ZYXEL {$MODEL}: Nominal "{#ZYXEL.VOLT.NOMINAL}"'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'ZYXEL ES2024A SNMP'
                    key: 'zyxel.ES2024A.volt[{#SNMPINDEX}]'
          preprocessing:
            -
              type: JAVASCRIPT
              parameters:
                - |
                  var inArray = JSON.parse(value);
                  var outArr = []
                  inArray.forEach(function(item, i, arr) {
                  item["{#ZYXEL.VOLT.NOMINAL}"] = "+" + item["{#ZYXEL.VOLT.NOMINAL}"] / 1000 + "V";
                  item["{#ZYXEL.VOLT.THRESH.LOW}"] = item["{#ZYXEL.VOLT.THRESH.LOW}"] / 1000;
                  outArr.push(item)
                  });
                  return JSON.stringify(outArr);
      tags:
        -
          tag: class
          value: network
        -
          tag: target
          value: ES2024A
        -
          tag: target
          value: switch
        -
          tag: target
          value: zyxel
      macros:
        -
          macro: '{$CPU.UTIL.CRIT}'
          value: '90'
        -
          macro: '{$IF.ERRORS.WARN}'
          value: '2'
        -
          macro: '{$IF.UTIL.MAX}'
          value: '90'
        -
          macro: '{$IFCONTROL}'
          value: '1'
        -
          macro: '{$MEMORY.UTIL.MAX}'
          value: '90'
        -
          macro: '{$MODEL}'
          value: ES-2024A
        -
          macro: '{$NET.IF.IFADMINSTATUS.MATCHES}'
          value: '^.*'
          description: 'Ignore notPresent(6)'
        -
          macro: '{$NET.IF.IFADMINSTATUS.NOT_MATCHES}'
          value: ^2$
          description: 'Ignore down(2) administrative status'
        -
          macro: '{$NET.IF.IFALIAS.MATCHES}'
          value: '.*'
        -
          macro: '{$NET.IF.IFALIAS.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
        -
          macro: '{$NET.IF.IFDESCR.MATCHES}'
          value: '.*'
        -
          macro: '{$NET.IF.IFDESCR.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
        -
          macro: '{$NET.IF.IFNAME.MATCHES}'
          value: '^.*$'
        -
          macro: '{$NET.IF.IFNAME.NOT_MATCHES}'
          value: '(^Software Loopback Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9a-z]+$|docker[0-9]+|br-[a-z0-9]{12})'
          description: 'Filter out loopbacks, nulls, docker veth links and docker0 bridge by default'
        -
          macro: '{$NET.IF.IFOPERSTATUS.MATCHES}'
          value: '^.*$'
        -
          macro: '{$NET.IF.IFOPERSTATUS.NOT_MATCHES}'
          value: ^6$
          description: 'Ignore notPresent(6)'
        -
          macro: '{$NET.IF.IFTYPE.MATCHES}'
          value: '.*'
        -
          macro: '{$NET.IF.IFTYPE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
        -
          macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'The time interval for SNMP agent availability trigger expression.'
        -
          macro: '{$ZYXEL.LLD.FILTER.IF.CONTROL.MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Triggers will be created only for interfaces whose description contains the value of this macro'
        -
          macro: '{$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.MATCHES}'
          value: 1|2
          description: 'Filter of discoverable link types. 0 - Down link 1 - Cooper link 2 - Fiber link'
        -
          macro: '{$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Filter to exclude discovered by link types.'
        -
          macro: '{$ZYXEL.LLD.FILTER.IF.NAME.MATCHES}'
          value: '.*'
          description: 'Filter by discoverable interface names.'
        -
          macro: '{$ZYXEL.LLD.FILTER.IF.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Filter to exclude discovered interfaces by name.'
        -
          macro: '{$ZYXEL.LLD.FILTER.SFP.STATUS.MATCHES}'
          value: 1|2
          description: 'Filter of discoverable status. 0 - OK with DDM 1 - OK without DDM 2 - nonoperational'
        -
          macro: '{$ZYXEL.LLD.FILTER.SFP.STATUS.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Filter to exclude discovered by status.'
        -
          macro: '{$ZYXEL.LLD.FILTER.SFPDDM.DESC.MATCHES}'
          value: '.*'
          description: 'Filter by discoverable SFP modules name.'
        -
          macro: '{$ZYXEL.LLD.FILTER.SFPDDM.DESC.NOT_MATCHES}'
          value: N/A
          description: 'Filter to exclude discovered SFP modules by name.'
        -
          macro: '{$ZYXEL.LLD.SFP.UPDATE}'
          value: 10m
          description: 'Receiving data from the SFP module is slow, we do not recommend setting the interval less than 10 minutes.'
      valuemaps:
        -
          uuid: 9ad004dd68214dcc83f44567b9ba6dae
          name: 'IF-MIB::ifOperStatus'
          mappings:
            -
              value: '1'
              newvalue: up
            -
              value: '2'
              newvalue: down
            -
              value: '4'
              newvalue: unknown
            -
              value: '5'
              newvalue: dormant
            -
              value: '6'
              newvalue: notPresent
            -
              value: '7'
              newvalue: lowerLayerDown
        -
          uuid: b420b09523a343b2ba6d60e948379b8a
          name: 'IF-MIB::ifType'
          mappings:
            -
              value: '1'
              newvalue: other
            -
              value: '2'
              newvalue: regular1822
            -
              value: '3'
              newvalue: hdh1822
            -
              value: '4'
              newvalue: ddnX25
            -
              value: '5'
              newvalue: rfc877x25
            -
              value: '6'
              newvalue: ethernetCsmacd
            -
              value: '7'
              newvalue: iso88023Csmacd
            -
              value: '8'
              newvalue: iso88024TokenBus
            -
              value: '9'
              newvalue: iso88025TokenRing
            -
              value: '10'
              newvalue: iso88026Man
            -
              value: '11'
              newvalue: starLan
            -
              value: '12'
              newvalue: proteon10Mbit
            -
              value: '13'
              newvalue: proteon80Mbit
            -
              value: '14'
              newvalue: hyperchannel
            -
              value: '15'
              newvalue: fddi
            -
              value: '16'
              newvalue: lapb
            -
              value: '17'
              newvalue: sdlc
            -
              value: '18'
              newvalue: ds1
            -
              value: '19'
              newvalue: e1
            -
              value: '20'
              newvalue: basicISDN
            -
              value: '21'
              newvalue: primaryISDN
            -
              value: '22'
              newvalue: propPointToPointSerial
            -
              value: '23'
              newvalue: ppp
            -
              value: '24'
              newvalue: softwareLoopback
            -
              value: '25'
              newvalue: eon
            -
              value: '26'
              newvalue: ethernet3Mbit
            -
              value: '27'
              newvalue: nsip
            -
              value: '28'
              newvalue: slip
            -
              value: '29'
              newvalue: ultra
            -
              value: '30'
              newvalue: ds3
            -
              value: '31'
              newvalue: sip
            -
              value: '32'
              newvalue: frameRelay
            -
              value: '33'
              newvalue: rs232
            -
              value: '34'
              newvalue: para
            -
              value: '35'
              newvalue: arcnet
            -
              value: '36'
              newvalue: arcnetPlus
            -
              value: '37'
              newvalue: atm
            -
              value: '38'
              newvalue: miox25
            -
              value: '39'
              newvalue: sonet
            -
              value: '40'
              newvalue: x25ple
            -
              value: '41'
              newvalue: iso88022llc
            -
              value: '42'
              newvalue: localTalk
            -
              value: '43'
              newvalue: smdsDxi
            -
              value: '44'
              newvalue: frameRelayService
            -
              value: '45'
              newvalue: v35
            -
              value: '46'
              newvalue: hssi
            -
              value: '47'
              newvalue: hippi
            -
              value: '48'
              newvalue: modem
            -
              value: '49'
              newvalue: aal5
            -
              value: '50'
              newvalue: sonetPath
            -
              value: '51'
              newvalue: sonetVT
            -
              value: '52'
              newvalue: smdsIcip
            -
              value: '53'
              newvalue: propVirtual
            -
              value: '54'
              newvalue: propMultiplexor
            -
              value: '55'
              newvalue: ieee80212
            -
              value: '56'
              newvalue: fibreChannel
            -
              value: '57'
              newvalue: hippiInterface
            -
              value: '58'
              newvalue: frameRelayInterconnect
            -
              value: '59'
              newvalue: aflane8023
            -
              value: '60'
              newvalue: aflane8025
            -
              value: '61'
              newvalue: cctEmul
            -
              value: '62'
              newvalue: fastEther
            -
              value: '63'
              newvalue: isdn
            -
              value: '64'
              newvalue: v11
            -
              value: '65'
              newvalue: v36
            -
              value: '66'
              newvalue: g703at64k
            -
              value: '67'
              newvalue: g703at2mb
            -
              value: '68'
              newvalue: qllc
            -
              value: '69'
              newvalue: fastEtherFX
            -
              value: '70'
              newvalue: channel
            -
              value: '71'
              newvalue: ieee80211
            -
              value: '72'
              newvalue: ibm370parChan
            -
              value: '73'
              newvalue: escon
            -
              value: '74'
              newvalue: dlsw
            -
              value: '75'
              newvalue: isdns
            -
              value: '76'
              newvalue: isdnu
            -
              value: '77'
              newvalue: lapd
            -
              value: '78'
              newvalue: ipSwitch
            -
              value: '79'
              newvalue: rsrb
            -
              value: '80'
              newvalue: atmLogical
            -
              value: '81'
              newvalue: ds0
            -
              value: '82'
              newvalue: ds0Bundle
            -
              value: '83'
              newvalue: bsc
            -
              value: '84'
              newvalue: async
            -
              value: '85'
              newvalue: cnr
            -
              value: '86'
              newvalue: iso88025Dtr
            -
              value: '87'
              newvalue: eplrs
            -
              value: '88'
              newvalue: arap
            -
              value: '89'
              newvalue: propCnls
            -
              value: '90'
              newvalue: hostPad
            -
              value: '91'
              newvalue: termPad
            -
              value: '92'
              newvalue: frameRelayMPI
            -
              value: '93'
              newvalue: x213
            -
              value: '94'
              newvalue: adsl
            -
              value: '95'
              newvalue: radsl
            -
              value: '96'
              newvalue: sdsl
            -
              value: '97'
              newvalue: vdsl
            -
              value: '98'
              newvalue: iso88025CRFPInt
            -
              value: '99'
              newvalue: myrinet
            -
              value: '100'
              newvalue: voiceEM
            -
              value: '101'
              newvalue: voiceFXO
            -
              value: '102'
              newvalue: voiceFXS
            -
              value: '103'
              newvalue: voiceEncap
            -
              value: '104'
              newvalue: voiceOverIp
            -
              value: '105'
              newvalue: atmDxi
            -
              value: '106'
              newvalue: atmFuni
            -
              value: '107'
              newvalue: atmIma
            -
              value: '108'
              newvalue: pppMultilinkBundle
            -
              value: '109'
              newvalue: ipOverCdlc
            -
              value: '110'
              newvalue: ipOverClaw
            -
              value: '111'
              newvalue: stackToStack
            -
              value: '112'
              newvalue: virtualIpAddress
            -
              value: '113'
              newvalue: mpc
            -
              value: '114'
              newvalue: ipOverAtm
            -
              value: '115'
              newvalue: iso88025Fiber
            -
              value: '116'
              newvalue: tdlc
            -
              value: '117'
              newvalue: gigabitEthernet
            -
              value: '118'
              newvalue: hdlc
            -
              value: '119'
              newvalue: lapf
            -
              value: '120'
              newvalue: v37
            -
              value: '121'
              newvalue: x25mlp
            -
              value: '122'
              newvalue: x25huntGroup
            -
              value: '123'
              newvalue: trasnpHdlc
            -
              value: '124'
              newvalue: interleave
            -
              value: '125'
              newvalue: fast
            -
              value: '126'
              newvalue: ip
            -
              value: '127'
              newvalue: docsCableMaclayer
            -
              value: '128'
              newvalue: docsCableDownstream
            -
              value: '129'
              newvalue: docsCableUpstream
            -
              value: '130'
              newvalue: a12MppSwitch
            -
              value: '131'
              newvalue: tunnel
            -
              value: '132'
              newvalue: coffee
            -
              value: '133'
              newvalue: ces
            -
              value: '134'
              newvalue: atmSubInterface
            -
              value: '135'
              newvalue: l2vlan
            -
              value: '136'
              newvalue: l3ipvlan
            -
              value: '137'
              newvalue: l3ipxvlan
            -
              value: '138'
              newvalue: digitalPowerline
            -
              value: '139'
              newvalue: mediaMailOverIp
            -
              value: '140'
              newvalue: dtm
            -
              value: '141'
              newvalue: dcn
            -
              value: '142'
              newvalue: ipForward
            -
              value: '143'
              newvalue: msdsl
            -
              value: '144'
              newvalue: ieee1394
            -
              value: '145'
              newvalue: if-gsn
            -
              value: '146'
              newvalue: dvbRccMacLayer
            -
              value: '147'
              newvalue: dvbRccDownstream
            -
              value: '148'
              newvalue: dvbRccUpstream
            -
              value: '149'
              newvalue: atmVirtual
            -
              value: '150'
              newvalue: mplsTunnel
            -
              value: '151'
              newvalue: srp
            -
              value: '152'
              newvalue: voiceOverAtm
            -
              value: '153'
              newvalue: voiceOverFrameRelay
            -
              value: '154'
              newvalue: idsl
            -
              value: '155'
              newvalue: compositeLink
            -
              value: '156'
              newvalue: ss7SigLink
            -
              value: '157'
              newvalue: propWirelessP2P
            -
              value: '158'
              newvalue: frForward
            -
              value: '159'
              newvalue: rfc1483
            -
              value: '160'
              newvalue: usb
            -
              value: '161'
              newvalue: ieee8023adLag
            -
              value: '162'
              newvalue: bgppolicyaccounting
            -
              value: '163'
              newvalue: frf16MfrBundle
            -
              value: '164'
              newvalue: h323Gatekeeper
            -
              value: '165'
              newvalue: h323Proxy
            -
              value: '166'
              newvalue: mpls
            -
              value: '167'
              newvalue: mfSigLink
            -
              value: '168'
              newvalue: hdsl2
            -
              value: '169'
              newvalue: shdsl
            -
              value: '170'
              newvalue: ds1FDL
            -
              value: '171'
              newvalue: pos
            -
              value: '172'
              newvalue: dvbAsiIn
            -
              value: '173'
              newvalue: dvbAsiOut
            -
              value: '174'
              newvalue: plc
            -
              value: '175'
              newvalue: nfas
            -
              value: '176'
              newvalue: tr008
            -
              value: '177'
              newvalue: gr303RDT
            -
              value: '178'
              newvalue: gr303IDT
            -
              value: '179'
              newvalue: isup
            -
              value: '180'
              newvalue: propDocsWirelessMaclayer
            -
              value: '181'
              newvalue: propDocsWirelessDownstream
            -
              value: '182'
              newvalue: propDocsWirelessUpstream
            -
              value: '183'
              newvalue: hiperlan2
            -
              value: '184'
              newvalue: propBWAp2Mp
            -
              value: '185'
              newvalue: sonetOverheadChannel
            -
              value: '186'
              newvalue: digitalWrapperOverheadChannel
            -
              value: '187'
              newvalue: aal2
            -
              value: '188'
              newvalue: radioMAC
            -
              value: '189'
              newvalue: atmRadio
            -
              value: '190'
              newvalue: imt
            -
              value: '191'
              newvalue: mvl
            -
              value: '192'
              newvalue: reachDSL
            -
              value: '193'
              newvalue: frDlciEndPt
            -
              value: '194'
              newvalue: atmVciEndPt
            -
              value: '195'
              newvalue: opticalChannel
            -
              value: '196'
              newvalue: opticalTransport
            -
              value: '197'
              newvalue: propAtm
            -
              value: '198'
              newvalue: voiceOverCable
            -
              value: '199'
              newvalue: infiniband
            -
              value: '200'
              newvalue: teLink
            -
              value: '201'
              newvalue: q2931
            -
              value: '202'
              newvalue: virtualTg
            -
              value: '203'
              newvalue: sipTg
            -
              value: '204'
              newvalue: sipSig
            -
              value: '205'
              newvalue: docsCableUpstreamChannel
            -
              value: '206'
              newvalue: econet
            -
              value: '207'
              newvalue: pon155
            -
              value: '208'
              newvalue: pon622
            -
              value: '209'
              newvalue: bridge
            -
              value: '210'
              newvalue: linegroup
            -
              value: '211'
              newvalue: voiceEMFGD
            -
              value: '212'
              newvalue: voiceFGDEANA
            -
              value: '213'
              newvalue: voiceDID
            -
              value: '214'
              newvalue: mpegTransport
            -
              value: '215'
              newvalue: sixToFour
            -
              value: '216'
              newvalue: gtp
            -
              value: '217'
              newvalue: pdnEtherLoop1
            -
              value: '218'
              newvalue: pdnEtherLoop2
            -
              value: '219'
              newvalue: opticalChannelGroup
            -
              value: '220'
              newvalue: homepna
            -
              value: '221'
              newvalue: gfp
            -
              value: '222'
              newvalue: ciscoISLvlan
            -
              value: '223'
              newvalue: actelisMetaLOOP
            -
              value: '224'
              newvalue: fcipLink
            -
              value: '225'
              newvalue: rpr
            -
              value: '226'
              newvalue: qam
            -
              value: '227'
              newvalue: lmp
            -
              value: '228'
              newvalue: cblVectaStar
            -
              value: '229'
              newvalue: docsCableMCmtsDownstream
            -
              value: '230'
              newvalue: adsl2
            -
              value: '231'
              newvalue: macSecControlledIF
            -
              value: '232'
              newvalue: macSecUncontrolledIF
            -
              value: '233'
              newvalue: aviciOpticalEther
            -
              value: '234'
              newvalue: atmbond
            -
              value: '235'
              newvalue: voiceFGDOS
            -
              value: '236'
              newvalue: mocaVersion1
            -
              value: '237'
              newvalue: ieee80216WMAN
            -
              value: '238'
              newvalue: adsl2plus
            -
              value: '239'
              newvalue: dvbRcsMacLayer
            -
              value: '240'
              newvalue: dvbTdm
            -
              value: '241'
              newvalue: dvbRcsTdma
            -
              value: '242'
              newvalue: x86Laps
            -
              value: '243'
              newvalue: wwanPP
            -
              value: '244'
              newvalue: wwanPP2
            -
              value: '245'
              newvalue: voiceEBS
            -
              value: '246'
              newvalue: ifPwType
            -
              value: '247'
              newvalue: ilan
            -
              value: '248'
              newvalue: pip
            -
              value: '249'
              newvalue: aluELP
            -
              value: '250'
              newvalue: gpon
            -
              value: '251'
              newvalue: vdsl2
            -
              value: '252'
              newvalue: capwapDot11Profile
            -
              value: '253'
              newvalue: capwapDot11Bss
            -
              value: '254'
              newvalue: capwapWtpVirtualRadio
            -
              value: '255'
              newvalue: bits
            -
              value: '256'
              newvalue: docsCableUpstreamRfPort
            -
              value: '257'
              newvalue: cableDownstreamRfPort
            -
              value: '258'
              newvalue: vmwareVirtualNic
            -
              value: '259'
              newvalue: ieee802154
            -
              value: '260'
              newvalue: otnOdu
            -
              value: '261'
              newvalue: otnOtu
            -
              value: '262'
              newvalue: ifVfiType
            -
              value: '263'
              newvalue: g9981
            -
              value: '264'
              newvalue: g9982
            -
              value: '265'
              newvalue: g9983
            -
              value: '266'
              newvalue: aluEpon
            -
              value: '267'
              newvalue: aluEponOnu
            -
              value: '268'
              newvalue: aluEponPhysicalUni
            -
              value: '269'
              newvalue: aluEponLogicalLink
            -
              value: '270'
              newvalue: aluGponOnu
            -
              value: '271'
              newvalue: aluGponPhysicalUni
            -
              value: '272'
              newvalue: vmwareNicTeam
            -
              value: '277'
              newvalue: docsOfdmDownstream
            -
              value: '278'
              newvalue: docsOfdmaUpstream
            -
              value: '279'
              newvalue: gfast
            -
              value: '280'
              newvalue: sdci
            -
              value: '281'
              newvalue: xboxWireless
            -
              value: '282'
              newvalue: fastdsl
            -
              value: '283'
              newvalue: docsCableScte55d1FwdOob
            -
              value: '284'
              newvalue: docsCableScte55d1RetOob
            -
              value: '285'
              newvalue: docsCableScte55d2DsOob
            -
              value: '286'
              newvalue: docsCableScte55d2UsOob
            -
              value: '287'
              newvalue: docsCableNdf
            -
              value: '288'
              newvalue: docsCableNdr
            -
              value: '289'
              newvalue: ptm
            -
              value: '290'
              newvalue: ghn
        -
          uuid: b5757bb796ba4b959086459b3274d679
          name: 'Service state'
          mappings:
            -
              value: '0'
              newvalue: Down
            -
              value: '1'
              newvalue: Up
        -
          uuid: 78f8f7f098d24c5fbc110234dc291a56
          name: 'SNMP available'
          mappings:
            -
              value: '0'
              newvalue: 'not available'
            -
              value: '1'
              newvalue: available
            -
              value: '2'
              newvalue: unknown
        -
          uuid: 6b0e919f48da4931a6315daed52f0a5d
          name: 'ZYXEL-ES2024A-MIB::accessCtlEnable'
          mappings:
            -
              value: '1'
              newvalue: enabled
            -
              value: '2'
              newvalue: disabled
        -
          uuid: d0ffa38f153a4cfd8724635559c620f1
          name: 'ZYXEL-ES2024A-MIB::accessCtlService'
          mappings:
            -
              value: '1'
              newvalue: telnet
            -
              value: '2'
              newvalue: ssh
            -
              value: '3'
              newvalue: ftp
            -
              value: '4'
              newvalue: http
            -
              value: '5'
              newvalue: https
            -
              value: '6'
              newvalue: icmp
            -
              value: '7'
              newvalue: snmp
        -
          uuid: fd2f6ce9789e4979ab09506e243efcb1
          name: 'ZYXEL-ES2024A-MIB::defaultMgmtIpType'
          mappings:
            -
              value: '0'
              newvalue: dhcp-client
            -
              value: '1'
              newvalue: static-ip
        -
          uuid: 00357e54879544d2b616c2b5a69d63bf
          name: 'ZYXEL-ES2024A-MIB::portOpModePortFlowCntl'
          mappings:
            -
              value: '0'
              newvalue: 'off'
            -
              value: '1'
              newvalue: 'on'
        -
          uuid: 0c6c2267bdd54c29b7e139d039c54ce9
          name: 'ZYXEL-ES2024A-MIB::portOpModePortIntrusionLock'
          mappings:
            -
              value: '1'
              newvalue: enabled
            -
              value: '2'
              newvalue: disabled
        -
          uuid: f64c706ccd90483697b0ca767edbfc13
          name: 'ZYXEL-ES2024A-MIB::portOpModePortLBTestStatus'
          mappings:
            -
              value: '0'
              newvalue: none
            -
              value: '1'
              newvalue: underTesting
            -
              value: '2'
              newvalue: success
            -
              value: '3'
              newvalue: fail
        -
          uuid: 8aaf5f7d3b9c4a39a6d2800f8bd12e19
          name: 'ZYXEL-ES2024A-MIB::portOpModePortLinkUpType'
          mappings:
            -
              value: '0'
              newvalue: down
            -
              value: '1'
              newvalue: copper
            -
              value: '2'
              newvalue: fiber
        -
          uuid: bb4c58bbfc2c455bba10ec4ddebf4eab
          name: 'ZYXEL-ES2024A-MIB::portOpModePortModuleType'
          mappings:
            -
              value: '0'
              newvalue: fast-ethernet-10-100
            -
              value: '1'
              newvalue: gigabit-ethernet-100-1000
        -
          uuid: 9425ad10a83a47aabe7ef20e896a74fe
          name: 'ZYXEL-ES2024A-MIB::portOpModePortSpeedDuplex'
          mappings:
            -
              value: '1'
              newvalue: speed-10-half
            -
              value: '2'
              newvalue: speed-10-full
            -
              value: '3'
              newvalue: speed-100-half
            -
              value: '4'
              newvalue: speed-100-full
            -
              value: '5'
              newvalue: speed-1000-ful
            -
              value: '0'
              newvalue: auto
        -
          uuid: 263f7eae046248dea3121cfdab367dfb
          name: 'ZYXEL ES2024A operational mode port link up type'
          mappings:
            -
              value: '0'
              newvalue: Down
            -
              value: '1'
              newvalue: Cooper
            -
              value: '2'
              newvalue: Fiber
        -
          uuid: 52203927b29645c5b998cd062b03969c
          name: 'ZYXEL ES2024A operational mode port speed duplex'
          mappings:
            -
              value: '0'
              newvalue: auto
            -
              value: '1'
              newvalue: '10M half'
            -
              value: '2'
              newvalue: '10M full'
            -
              value: '3'
              newvalue: '100M half'
            -
              value: '4'
              newvalue: '100M full'
            -
              value: '5'
              newvalue: '1G full'
        -
          uuid: fb6e2337f87a45c2aeb2873c6ad9b7d4
          name: 'ZYXEL ES2024A port admin status'
          mappings:
            -
              value: '1'
              newvalue: Up
            -
              value: '2'
              newvalue: Down
            -
              value: '3'
              newvalue: Testing
        -
          uuid: 7f3561f06df244e38ff946bc093814e8
          name: 'ZYXEL ES2024A port operational status'
          mappings:
            -
              value: '1'
              newvalue: Up
            -
              value: '2'
              newvalue: Down
            -
              value: '3'
              newvalue: Testing
            -
              value: '4'
              newvalue: Unknown
            -
              value: '5'
              newvalue: Dormant
            -
              value: '6'
              newvalue: NotPresent
            -
              value: '7'
              newvalue: lowerLayerDown
        -
          uuid: 45da907bd74341c4ba5d4832ffd665a2
          name: 'ZYXEL ES2024A SFP status'
          mappings:
            -
              value: '1'
              newvalue: 'OK with DDM'
            -
              value: '2'
              newvalue: 'OK without DDM'
            -
              value: '3'
              newvalue: nonoperational
  triggers:
    -
      uuid: e3de3dd890734b7e90d7d58609e39813
      expression: '(last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.hw.uptime)>0 and last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.hw.uptime)<10m) or (last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.hw.uptime)=0 and last(/ZYXEL ES2024A SNMP/zyxel.ES2024A.net.uptime)<10m)'
      name: 'ZYXEL {$MODEL}: Host has been restarted'
      event_name: 'ZYXEL ES2024A: {HOST.NAME} has been restarted (uptime < 10m)'
      priority: INFO
      description: 'Uptime is less than 10 minutes.'
      manual_close: 'YES'
      tags:
        -
          tag: scope
          value: notice
